# EPAGES-CS-3 - E-PAGES Coding Standart 3

<h1>Соглашение об именовании</h1>

Этот раздел стандарта описывает как принято выбирать названия переменным, методам/функциям, классам, константам и т.д.

<h2>1. Обзор</h2>
<ul>
    <li>Общие понятия</li>
    <li>Именование переменных</li>
    <li>Именование методов и функций</li>
    <li>Префиксы переменных</li>
    <li>Именование классов</li>
    <li>Доступность членов-переменных и методов класса</li>
    <li>Именование констант</li>
    <li>Именование свойств инфоблоков</li>
    <li>Именование шаблонов компонентов</li>
</ul>

<h2>2. Общие понятия</h2>
НЕЛЬЗЯ использовать подчеркивание для отделения слов внутри идентификаторов, это удлиняет идентификаторы и затрудняет чтение.

РЕКОМЕНДУЕТСЯ давать переменным, методам и пр. "говорящие" названия. РЕКОМЕНДУЕТСЯ использовать имена, которые ясно и четко описывают предназначение и/или смысл сущности.

РЕКОМЕНДУЕТСЯ делать имена идентификаторов как можно короче (но не в ущерб читабельности).

<h2>3. Именование переменных</h2>
Первое логическое слово ДОЛЖНО начинаться с маленькой буквы, остальные логические слова - с большой (стиль Кэмел). Например: <code>$testCounter</code>, <code>$userPassword</code>.

<h2>4. Именование методов и функций</h2>
Первое логическое слово ДОЛЖНО начинаться с маленькой буквы, остальные логические слова - с большой (стиль Кэмел). Например: <code>countVariable()</code>, <code>сhangeUserPassword()</code>.

<h2>5. Префиксы переменных</h2>
PHP - не особо типизированый язык и в нем различаются по смыслу только три группы типов: скалярные, массивы и объекты.

Массивы РЕКОМЕНДУЕТСЯ именовать с префиксом <code>ar</code>, при этом следующее логическое слово в названии начинается с большой буквы. Например, <code>$arResult</code>, <code>$arModifiedUsers</code>.

Объекты РЕКОМЕНДУЕТСЯ именовать с префиксом <code>ob</code>, при этом следующее логическое слово в названии начинается с большой буквы. Например, <code>$obElement</code>, <code>$obUser</code>.

Объект класса <code>CDBResult</code> РЕКОМЕНДУЕТСЯ начинать с префикса <code>db</code>, при этом следующее логическое слово в названии начинается с большой буквы. Например, <code>$dbResult</code>.

Скалярные типы СЛЕДУЕТ начинать с префиксов только в том случае, если точно известно, что они имеют заданный тип. Например в коде
```php
<?php
$userID = $_REQUEST["var"];

$userID = intval($userID);
?>
```
переменная идет без префикса, так как ее тип меняется по ходу выполнения программы.

В коде
```php
<?php
$bFlag = (($aaa > 0) ? true : false);
?>
```
переменная идет с префиксом, так как ее тип в общем известен и не меняется.

<h2>6. Именование классов</h2>
Имя класса ДОЛЖНО начинаться с буквы <code>C</code>. Если класс принадлежит модулю, то дальше ДОЛЖНО идти "фирменное" название модуля. Каждое логическое слово ДОЛЖНО начинаться с заглавной буквы.

Пример: <code>CIBlockElement</code>, <code>CIBlockType</code>, <code>CSaleAffiliate</code>.

Если класс различается для разных СУБД и соответственно имеет базовый класс с общими для всех СУБД методами, то этот базовый класс ДОЛЖЕН в своем имени после символа "C" содержать символы "All".

Пример: <code>CAllSaleAffiliate</code>.

<h2>7. Доступность членов-переменных и методов класса</h2>
Так как у нас нет других методов организации видимости и доступности членов-переменных и методов классов, то СЛЕДУЕТ применять следующие правила:
<ul>
	<li>члены-переменные и методы, которые являются приватными и к которым не может обращаться никто, кроме самого модуля (т.е. ни публичная часть, ни другие модули), могут не описываться в документации и могут быть изменены без обеспечения совместимости;</li>
	<li>члены-переменные и методы, которые являются внутренними и к которым могут обращаться только модули продукта (т.е. публичная часть не может), могут не описываться в публичной документации (но хорошо бы описать во внутренней) и могут быть изменены без обеспечения совместимости только после уведомления всех сотрудников;</li>
	<li>остальные методы и члены-переменные считаются публичными, ДОЛЖНЫ быть описаны в документации и не могут быть изменены без обеспечения совместимости.</li>
	<li>методы и свойства НЕ ДОЛЖНЫ использовать символы подчеркивания в сових названиях для обозначения видимости</li>
</ul>

<h2>8. Именование констант</h2>
Константы ДОЛЖНЫ писаться большими буквами и иметь префикс <code>BX_</code>. Например, <code>BX_ROOT</code>, <code>BX_FILE_PERMISSIONS</code>.

<h2>9. Именование свойств инфоблоков</h2>
ОБЯЗАТЕЛЬНО называть все свойства инфоблоков в верхнем регистре, осмысленно (используя связку сущность-наименование), разделяя слова нижним подчеркиванием. Например:
<ul>
	<li>Имя пользователя: USER_NAME</li>
	<li>Валюта заказа: ORDER_CURRENCY</li>
	<li>Список заказов: ORDER_LIST</li>
</ul>

<h2>10. Именование шаблонов компонентов</h2>
РЕКОМЕНДУЕТСЯ давать шаблонам компонентов осмысленные названия и в каждом проекте придерживаться общего стиля. Например, Раздел/страница_сайта.Название.Тип Примеры:
<ul>
	<li>index.user.auth</li>
	<li>profile.orders.list</li>
	<li>cart.products.additional</li>
</ul>
